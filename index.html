<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NN VPN ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <!-- –•–µ–¥–µ—Ä -->
        <div class="header">
            <div class="logo">
                <span class="logo-icon">‚ö°</span>
                <span class="logo-text">NN VPN</span>
            </div>
            <div class="header-status" id="headerStatus">
                <span class="status-dot"></span>
                <span>–ó–∞—â–∏—â–µ–Ω–æ</span>
            </div>
        </div>

        <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–∞–Ω–Ω–µ—Ä -->
        <div class="welcome-banner" id="welcomeBanner">
            <div class="welcome-text">
                <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="userName">–¥—Ä—É–≥</span>!</h1>
                <p>–ú—ã –∑–∞–±–æ—Ç–∏–º—Å—è –æ –≤–∞—à–µ–π –∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç–∏</p>
            </div>
        </div>

        <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
        <div class="profile-section" id="profileSection">
            <div class="profile-header">
                <div class="profile-avatar" id="profileAvatar">
                    <img id="avatarImage" src="" alt="" style="display: none;">
                    <span id="avatarPlaceholder"></span>
                </div>
                <div class="profile-info">
                    <h2 id="profileName">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
                    <div class="profile-meta">
                        <span class="badge" id="profileTier">FREE</span>
                        <span class="badge outline" id="profileId">ID: ...</span>
                    </div>
                </div>
            </div>
            
            <div class="profile-stats">
                <div class="stat-item">
                    <span class="stat-label">Username</span>
                    <span class="stat-value" id="profileUsername">@...</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ù–∞ —Å–µ—Ä–≤–∏—Å–µ —Å:</span>
                    <span class="stat-value" id="profileJoinDate">...</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">ID</span>
                    <span class="stat-value" id="profileIdShort">...</span>
                </div>
            </div>
        </div>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="nav">
            <button class="nav-btn" data-tab="plans">–¢–∞—Ä–∏—Ñ—ã</button>
            <button class="nav-btn" data-tab="status">–°—Ç–∞—Ç—É—Å</button>
            <button class="nav-btn" data-tab="history">–ò—Å—Ç–æ—Ä–∏—è</button>
            <button class="nav-btn admin-only" data-tab="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
            <button class="nav-btn admin-only" data-tab="promo">–ü—Ä–æ–º–æ</button>
        </nav>

        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="content">
            <!-- –¢–∞—Ä–∏—Ñ—ã -->
            <div class="tab" id="tab-plans">
                <h2>–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞—Ä–∏—Ñ</h2>
                <div class="plans">
                    <div class="plan-card" onclick="selectPlan('month')">
                        <h3>1 –º–µ—Å—è—Ü</h3>
                        <div class="price">250 ‚ÇΩ</div>
                        <ul>
                            <li>‚úì 2 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</li>
                            <li>‚úì –í—Å–µ —Å–µ—Ä–≤–µ—Ä—ã</li>
                            <li>‚úì Split Tunneling</li>
                        </ul>
                        <button class="btn">–í—ã–±—Ä–∞—Ç—å</button>
                    </div>
                    
                    <div class="plan-card popular" onclick="selectPlan('quarter')">
                        <div class="popular-badge">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</div>
                        <h3>3 –º–µ—Å—è—Ü–∞</h3>
                        <div class="price">750 ‚ÇΩ</div>
                        <ul>
                            <li>‚úì 2 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</li>
                            <li>‚úì –í—Å–µ —Å–µ—Ä–≤–µ—Ä—ã</li>
                            <li>‚úì Split Tunneling</li>
                        </ul>
                        <button class="btn">–í—ã–±—Ä–∞—Ç—å</button>
                    </div>
                    
                    <div class="plan-card" onclick="selectPlan('halfyear')">
                        <h3>6 –º–µ—Å—è—Ü–µ–≤</h3>
                        <div class="price">1500 ‚ÇΩ</div>
                        <ul>
                            <li>‚úì 2 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</li>
                            <li>‚úì –í—Å–µ —Å–µ—Ä–≤–µ—Ä—ã</li>
                            <li>‚úì Split Tunneling</li>
                        </ul>
                        <button class="btn">–í—ã–±—Ä–∞—Ç—å</button>
                    </div>
                </div>
            </div>

            <!-- –°—Ç–∞—Ç—É—Å -->
            <div class="tab" id="tab-status">
                <h2>–°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏</h2>
                <div class="status-card">
                    <div class="status-header">
                        <span class="status-label">–¢–∞—Ä–∏—Ñ</span>
                        <span class="status-value" id="statusTier">FREE</span>
                    </div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="statusProgress" style="width: 0%"></div>
                    </div>
                    
                    <div class="status-info">
                        <p>üîë –ö–ª—é—á: <span id="statusKey">‚Äî</span></p>
                        <p>üìÖ –î–µ–π—Å—Ç–≤—É–µ—Ç –¥–æ: <span id="statusExpires">‚Äî</span></p>
                        <p>üì± –£—Å—Ç—Ä–æ–π—Å—Ç–≤: <span id="statusDevices">0/2</span></p>
                    </div>
                    
                    <button class="btn" onclick="copyKey()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á</button>
                </div>
                <button class="btn btn-outline" onclick="refreshStatus()">–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å</button>
            </div>

            <!-- –ò—Å—Ç–æ—Ä–∏—è -->
            <div class="tab" id="tab-history">
                <h2>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h2>
                <div class="history-list" id="historyList">
                    <div class="history-empty">
                        <p>–ü–æ–∫–∞ –Ω–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π</p>
                    </div>
                </div>
            </div>

            <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê (–∞–¥–º–∏–Ω) -->
            <div class="tab" id="tab-stats">
                <h2>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                
                <div class="stats-section">
                    <h3>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-label">–í—Å–µ–≥–æ</span>
                            <span class="stat-value" id="statsTotalUsers">1,234</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ–≥–æ–¥–Ω—è</span>
                            <span class="stat-value" id="statsActiveToday">345</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–ù–æ–≤—ã—Ö –∑–∞ –Ω–µ–¥–µ–ª—é</span>
                            <span class="stat-value" id="statsNewWeek">123</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–î–µ–º–æ-–∫–ª—é—á–µ–π</span>
                            <span class="stat-value" id="statsDemoKeys">456</span>
                        </div>
                    </div>
                </div>
                
                <div class="stats-section">
                    <h3>üí∞ –§–∏–Ω–∞–Ω—Å—ã</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-label">–í—Å–µ–≥–æ –ø—Ä–æ–¥–∞–∂</span>
                            <span class="stat-value" id="statsTotalSales">789</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–ù–∞ —Å—É–º–º—É</span>
                            <span class="stat-value" id="statsTotalRevenue">187,250 ‚ÇΩ</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–ó–∞ –º–µ—Å—è—Ü</span>
                            <span class="stat-value" id="statsMonthRevenue">45,600 ‚ÇΩ</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</span>
                            <span class="stat-value" id="statsAvgCheck">237 ‚ÇΩ</span>
                        </div>
                    </div>
                </div>
                
                <div class="stats-section">
                    <h3>üìä –ö–æ–Ω–≤–µ—Ä—Å–∏—è</h3>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <span class="stat-label">–ö–ª–∏–∫–∏ ‚Üí –î–µ–º–æ</span>
                            <span class="stat-value" id="statsClickToDemo">24%</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–î–µ–º–æ ‚Üí –ü–æ–∫—É–ø–∫–∞</span>
                            <span class="stat-value" id="statsDemoToPaid">12%</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">–û—Ç–∫–∞–∑–æ–≤</span>
                            <span class="stat-value" id="statsChurn">5.6%</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-label">LTV</span>
                            <span class="stat-value" id="statsLTV">1,450 ‚ÇΩ</span>
                        </div>
                    </div>
                </div>
                
                <button class="btn" onclick="refreshStats()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
            </div>

            <!-- –ü–†–û–ú–û (–¥–ª—è –ø–∏–∞—Ä—â–∏–∫–∞) -->
            <div class="tab" id="tab-promo">
                <h2>–ü—Ä–æ–º–æ-–∫–∞–º–ø–∞–Ω–∏–∏</h2>
                
                <div class="promo-summary">
                    <div class="summary-card">
                        <span class="summary-label">–í—Å–µ–≥–æ –∫–ª–∏–∫–æ–≤</span>
                        <span class="summary-value" id="promoTotalClicks">0</span>
                    </div>
                    <div class="summary-card">
                        <span class="summary-label">–ü–µ—Ä–µ—Ö–æ–¥–æ–≤ –≤ –¥–µ–º–æ</span>
                        <span class="summary-value" id="promoTotalDemos">0</span>
                    </div>
                    <div class="summary-card">
                        <span class="summary-label">–ö–æ–Ω–≤–µ—Ä—Å–∏—è</span>
                        <span class="summary-value" id="promoTotalConv">0%</span>
                    </div>
                </div>
                
                <div class="promo-create">
                    <h3>‚ûï –ù–æ–≤–∞—è —Å—Å—ã–ª–∫–∞</h3>
                    <div class="create-form">
                        <input type="text" id="promoNameInput" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: telegram_channel)" class="promo-input">
                        <button class="btn" onclick="createPromoLink()">–°–æ–∑–¥–∞—Ç—å</button>
                    </div>
                </div>
                
                <div class="promo-links">
                    <h3>üìã –ú–æ–∏ —Å—Å—ã–ª–∫–∏</h3>
                    <div id="promoLinksList">
                        <!-- –°—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ -->
                        <div class="promo-empty">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å—Å—ã–ª–æ–∫</div>
                    </div>
                </div>
                
                <button class="btn btn-outline" onclick="refreshPromoStats()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –æ–ø–ª–∞—Ç—ã -->
    <div class="modal" id="paymentModal">
        <div class="modal-content">
            <h3 id="modalTitle">–û–ø–ª–∞—Ç–∞</h3>
            <p id="modalDescription"></p>
            
            <div class="payment-methods">
                <button class="payment-btn" onclick="payWith('card')">üí≥ –ö–∞—Ä—Ç–∞ –†–§</button>
                <button class="payment-btn" onclick="payWith('sbp')">üè¶ –°–ë–ü</button>
                <button class="payment-btn" onclick="payWith('yoomoney')">üì± –ÆMoney</button>
            </div>
            
            <button class="btn btn-danger" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="toast" id="toast"></div>

    <script src="script.js"></script>
</body>
</html>
